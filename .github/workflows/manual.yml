name: Manual workflow
on:
  workflow_dispatch:
    inputs:
      name:
        description: 'Major, minor, patch?'
        default: 'patch'
        required: true
        type: string
jobs:
  calculate:
    name: Calculate next version
    runs-on: ubuntu-latest
    steps:
    - run: | 
        LATEST_TAG=$(git describe --tags --match "v*" --abbrev=0 2>/dev/null || echo "v0.0.0")
        echo "Latest tag: $LATEST_TAG"
        VERSION=$(echo "$LATEST_TAG" | sed 's/v//')
        echo "Version without v: $VERSION"
        MAJOR=$(echo "$VERSION" | cut -d. -f1)
        MINOR=$(echo "$VERSION" | cut -d. -f2)
        PATCH=$(echo "$VERSION" | cut -d. -f3)
        echo "Split: $MAJOR, $MINOR, $PATCH"
